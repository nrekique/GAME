<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="vis" href="vis.html" /><link rel="prev" title="Welcome to ericw-tools’s documentation!" href="index.html" />

    <!-- Generated with Sphinx 6.2.1 and Furo 2023.03.27 -->
        <title>qbsp - ericw-tools documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">ericw-tools  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">ericw-tools  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">qbsp</a></li>
<li class="toctree-l1"><a class="reference internal" href="vis.html">vis</a></li>
<li class="toctree-l1"><a class="reference internal" href="light.html">light</a></li>
<li class="toctree-l1"><a class="reference internal" href="bspinfo.html">bspinfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="bsputil.html">bsputil</a></li>
<li class="toctree-l1"><a class="reference internal" href="maputil.html">maputil</a></li>
<li class="toctree-l1"><a class="reference internal" href="lightpreview.html">lightpreview</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="qbsp">
<h1>qbsp<a class="headerlink" href="#qbsp" title="Permalink to this heading">#</a></h1>
<p>qbsp - Compile a Quake BSP file from a MAP source file</p>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">#</a></h2>
<p><strong>qbsp</strong> [OPTION]… SOURCFILE [DESTFILE]</p>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">#</a></h2>
<p><strong class="program">qbsp</strong> is a tool used in the creation of maps for the <strong>id Software</strong>
game <strong>Quake</strong>. qbsp takes a .map file as input and produces a .bsp file
playable in the Quake engine. If the <code class="docutils literal notranslate"><span class="pre">DESTFILE</span></code> argument is not
supplied, the output filename will be chosen by stripping the file
extension (if any) from <code class="docutils literal notranslate"><span class="pre">SOURCEFILE</span></code> and appending the .bsp extension.</p>
</section>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this heading">#</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nofill">
<span class="sig-name descname"><span class="pre">-nofill</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nofill" title="Permalink to this definition">#</a></dt>
<dd><p>Doesn’t perform outside filling</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-filltype">
<span class="sig-name descname"><span class="pre">-filltype</span></span><span class="sig-prename descclassname"> <span class="pre">auto</span> <span class="pre">|</span> <span class="pre">inside</span> <span class="pre">|</span> <span class="pre">outside</span></span><a class="headerlink" href="#cmdoption-qbsp-filltype" title="Permalink to this definition">#</a></dt>
<dd><p>Whether to fill the map from the outside in (lenient), from the inside out
(aggressive), or to automatically decide based on the hull being used.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-filldetail">
<span class="sig-name descname"><span class="pre">-filldetail</span></span><span class="sig-prename descclassname"> <span class="pre">[n]</span></span><a class="headerlink" href="#cmdoption-qbsp-filldetail" title="Permalink to this definition">#</a></dt>
<dd><p>Whether to fill enclosed pockets of empty space surrounded by solid detail. Default is 1 (enabled).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nomerge">
<span class="sig-name descname"><span class="pre">-nomerge</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nomerge" title="Permalink to this definition">#</a></dt>
<dd><p>Don’t perform face merging.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-noedgereuse">
<span class="sig-name descname"><span class="pre">-noedgereuse</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-noedgereuse" title="Permalink to this definition">#</a></dt>
<dd><p>Don’t reuse edges (may be useful for debugging software rendering).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-noclip">
<span class="sig-name descname"><span class="pre">-noclip</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-noclip" title="Permalink to this definition">#</a></dt>
<dd><p>Doesn’t build clip hulls (only applicable for Q1-like BSP formats).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-noskip">
<span class="sig-name descname"><span class="pre">-noskip</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-noskip" title="Permalink to this definition">#</a></dt>
<dd><p>Doesn’t remove faces using the <a class="reference internal" href="#texture-skip"><code class="xref std std-texture docutils literal notranslate"><span class="pre">skip</span></code></a> texture</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nodetail">
<span class="sig-name descname"><span class="pre">-nodetail</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nodetail" title="Permalink to this definition">#</a></dt>
<dd><p>Treat all detail brushes as structural.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-onlyents">
<span class="sig-name descname"><span class="pre">-onlyents</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-onlyents" title="Permalink to this definition">#</a></dt>
<dd><p>Only updates .map entities</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-verbose">
<span class="sig-name descname"><span class="pre">-verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-verbose" title="Permalink to this definition">#</a></dt>
<dt class="sig sig-object std" id="cmdoption-qbsp-v">
<span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-v" title="Permalink to this definition">#</a></dt>
<dd><p>Print out more .map information.</p>
<p>Note, this switch no longer implies <a class="reference internal" href="#cmdoption-qbsp-loghulls"><code class="xref std std-option docutils literal notranslate"><span class="pre">-loghulls</span></code></a>; use that if you want to see
statistics for collision hulls.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-loghulls">
<span class="sig-name descname"><span class="pre">-loghulls</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-loghulls" title="Permalink to this definition">#</a></dt>
<dd><p>Print log output for collision hulls.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-logbmodels">
<span class="sig-name descname"><span class="pre">-logbmodels</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-logbmodels" title="Permalink to this definition">#</a></dt>
<dd><p>Print log output for bmodels.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-quiet">
<span class="sig-name descname"><span class="pre">-quiet</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-quiet" title="Permalink to this definition">#</a></dt>
<dt class="sig sig-object std" id="cmdoption-qbsp-noverbose">
<span class="sig-name descname"><span class="pre">-noverbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-noverbose" title="Permalink to this definition">#</a></dt>
<dd><p>Suppress non-important messages (equivalent to <a class="reference internal" href="#cmdoption-qbsp-nopercent"><code class="xref std std-option docutils literal notranslate"><span class="pre">-nopercent</span></code></a> <a class="reference internal" href="#cmdoption-qbsp-nostat"><code class="xref std std-option docutils literal notranslate"><span class="pre">-nostat</span></code></a> <a class="reference internal" href="#cmdoption-qbsp-noprogress"><code class="xref std std-option docutils literal notranslate"><span class="pre">-noprogress</span></code></a>).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-log">
<span class="sig-name descname"><span class="pre">-log</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-log" title="Permalink to this definition">#</a></dt>
<dd><p>Write log files. Enabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nolog">
<span class="sig-name descname"><span class="pre">-nolog</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nolog" title="Permalink to this definition">#</a></dt>
<dd><p>Don’t write log files.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-chop">
<span class="sig-name descname"><span class="pre">-chop</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-chop" title="Permalink to this definition">#</a></dt>
<dd><p>Adjust brushes to remove intersections if possible. Enabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nochop">
<span class="sig-name descname"><span class="pre">-nochop</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nochop" title="Permalink to this definition">#</a></dt>
<dd><p>Do not chop intersecting brushes.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-chopfragment">
<span class="sig-name descname"><span class="pre">-chopfragment</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-chopfragment" title="Permalink to this definition">#</a></dt>
<dd><p>Always do full fragmentation for chop.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-splitsky">
<span class="sig-name descname"><span class="pre">-splitsky</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-splitsky" title="Permalink to this definition">#</a></dt>
<dd><p>Doesn’t combine sky faces into one large face.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-splitspecial">
<span class="sig-name descname"><span class="pre">-splitspecial</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-splitspecial" title="Permalink to this definition">#</a></dt>
<dd><p>Doesn’t combine sky and water faces into one large face. This allows
for statically lit water.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-litwater">
<span class="sig-name descname"><span class="pre">-litwater</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-litwater" title="Permalink to this definition">#</a></dt>
<dt class="sig sig-object std" id="cmdoption-qbsp-splitturb">
<span class="sig-name descname"><span class="pre">-splitturb</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-splitturb" title="Permalink to this definition">#</a></dt>
<dd><p>Enable lit liquids. This allows for statically lit water in compatible source ports,
which still works but renders as fullbright on non-supporting source ports.
The only downside is that water faces will be split up more, as per <a class="reference internal" href="#cmdoption-qbsp-subdivide"><code class="xref std std-option docutils literal notranslate"><span class="pre">-subdivide</span></code></a>.
Enabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-transwater">
<span class="sig-name descname"><span class="pre">-transwater</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-transwater" title="Permalink to this definition">#</a></dt>
<dd><p>Computes portal information for transparent water (default)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-notranswater">
<span class="sig-name descname"><span class="pre">-notranswater</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-notranswater" title="Permalink to this definition">#</a></dt>
<dd><p>Computes portal information for opaque water</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-transsky">
<span class="sig-name descname"><span class="pre">-transsky</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-transsky" title="Permalink to this definition">#</a></dt>
<dd><p>Computes portal information for transparent sky</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-oldaxis">
<span class="sig-name descname"><span class="pre">-oldaxis</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-oldaxis" title="Permalink to this definition">#</a></dt>
<dd><p>Use the original QBSP texture alignment algorithm. Enabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nooldaxis">
<span class="sig-name descname"><span class="pre">-nooldaxis</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nooldaxis" title="Permalink to this definition">#</a></dt>
<dd><p>Use alternate texture alignment algorithm. The default is to use the
original QBSP texture alignment algorithm, which required the
<a class="reference internal" href="#cmdoption-qbsp-oldaxis"><code class="xref std std-option docutils literal notranslate"><span class="pre">-oldaxis</span></code></a> switch in tyrutils-ericw v0.15.1 and earlier.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-forcegoodtree">
<span class="sig-name descname"><span class="pre">-forcegoodtree</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-forcegoodtree" title="Permalink to this definition">#</a></dt>
<dd><p>Force use of expensive processing for SolidBSP stage. Often results
in a more optimal BSP file in terms of file size, at the expense of
extra processing time.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-leaktest">
<span class="sig-name descname"><span class="pre">-leaktest</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-leaktest" title="Permalink to this definition">#</a></dt>
<dd><p>Makes it a compile error if a leak is detected.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nopercent">
<span class="sig-name descname"><span class="pre">-nopercent</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nopercent" title="Permalink to this definition">#</a></dt>
<dd><p>Prevents output of percent completion information</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nostat">
<span class="sig-name descname"><span class="pre">-nostat</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nostat" title="Permalink to this definition">#</a></dt>
<dd><p>Don’t output statistic messages.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-noprogress">
<span class="sig-name descname"><span class="pre">-noprogress</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-noprogress" title="Permalink to this definition">#</a></dt>
<dd><p>Don’t output progress messages.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nocolor">
<span class="sig-name descname"><span class="pre">-nocolor</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nocolor" title="Permalink to this definition">#</a></dt>
<dd><p>Don’t output ANSI color codes (in case the terminal doesn’t recognize colors, e.g. TB).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-q2bsp">
<span class="sig-name descname"><span class="pre">-q2bsp</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-q2bsp" title="Permalink to this definition">#</a></dt>
<dd><p>Target Quake II’s BSP format.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-qbism">
<span class="sig-name descname"><span class="pre">-qbism</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-qbism" title="Permalink to this definition">#</a></dt>
<dd><p>Target Qbism’s extended Quake II BSP format.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-q2rtx">
<span class="sig-name descname"><span class="pre">-q2rtx</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-q2rtx" title="Permalink to this definition">#</a></dt>
<dd><p>Adjust settings to best support Q2RTX.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-hexen2">
<span class="sig-name descname"><span class="pre">-hexen2</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-hexen2" title="Permalink to this definition">#</a></dt>
<dd><p>Generate a hexen2 bsp. This can be used in addition to <a class="reference internal" href="#cmdoption-qbsp-bsp2"><code class="xref std std-option docutils literal notranslate"><span class="pre">-bsp2</span></code></a> to avoid
clipnode issues.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-bsp2">
<span class="sig-name descname"><span class="pre">-bsp2</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-bsp2" title="Permalink to this definition">#</a></dt>
<dd><p>Create the output BSP file in BSP2 format. Allows the creation of
much larger and more complex maps than the original BSP 29 format).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-2psb">
<span class="sig-name descname"><span class="pre">-2psb</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-2psb" title="Permalink to this definition">#</a></dt>
<dd><p>Create the output BSP file in 2PSB format. This an earlier version of
the BSP2 format, supported by the RMQ engine (and thus is also known
as the BSP2rmq or RMQe bsp format).</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.0: </span>Use <a class="reference internal" href="#cmdoption-qbsp-bsp2"><code class="xref std std-option docutils literal notranslate"><span class="pre">-bsp2</span></code></a> instead.</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-allowupgrade">
<span class="sig-name descname"><span class="pre">-allowupgrade</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-allowupgrade" title="Permalink to this definition">#</a></dt>
<dd><p>Allow formats to “upgrade” to compatible extended formats when a limit is
exceeded (e.g. Quake BSP to BSP2, or Quake 2 BSP to Qbism BSP). Enabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-noallowupgrade">
<span class="sig-name descname"><span class="pre">-noallowupgrade</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-noallowupgrade" title="Permalink to this definition">#</a></dt>
<dd><p>Opt out of <a class="reference internal" href="#cmdoption-qbsp-allowupgrade"><code class="xref std std-option docutils literal notranslate"><span class="pre">-allowupgrade</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-hlbsp">
<span class="sig-name descname"><span class="pre">-hlbsp</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-hlbsp" title="Permalink to this definition">#</a></dt>
<dd><p>Create the output BSP file in Half-Life’s format. Note that the hull
size differences prevent this from being generally usable for the
vanilla quake gamecode. This cannot be used in combination with the
<a class="reference internal" href="#cmdoption-qbsp-bsp2"><code class="xref std std-option docutils literal notranslate"><span class="pre">-bsp2</span></code></a> argument.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-add">
<span class="sig-name descname"><span class="pre">-add</span></span><span class="sig-prename descclassname"> <span class="pre">[mapfile]</span></span><a class="headerlink" href="#cmdoption-qbsp-add" title="Permalink to this definition">#</a></dt>
<dd><p>The given map file will be appended to the base map.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-leakdist">
<span class="sig-name descname"><span class="pre">-leakdist</span></span><span class="sig-prename descclassname"> <span class="pre">[n]</span></span><a class="headerlink" href="#cmdoption-qbsp-leakdist" title="Permalink to this definition">#</a></dt>
<dd><p>Space between leakfile points (default 0, which does not write any inbetween points)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-subdivide">
<span class="sig-name descname"><span class="pre">-subdivide</span></span><span class="sig-prename descclassname"> <span class="pre">[n]</span></span><a class="headerlink" href="#cmdoption-qbsp-subdivide" title="Permalink to this definition">#</a></dt>
<dd><p>Use different texture subdivision (default 240). Lower values will
harm framerates. Higher values may not be supported. DP+FTEQW+QSS
support up to 4080 (unless lightmap scaling is in use), but such
values will cause other engines to crash-to-console. Use zero to
specify no subdivision.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nosubdivide">
<span class="sig-name descname"><span class="pre">-nosubdivide</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nosubdivide" title="Permalink to this definition">#</a></dt>
<dd><p>Disable subdivision. Requires a compatible source port. See also <a class="reference internal" href="#cmdoption-qbsp-subdivide"><code class="xref std std-option docutils literal notranslate"><span class="pre">-subdivide</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-lmscale">
<span class="sig-name descname"><span class="pre">-lmscale</span></span><span class="sig-prename descclassname"> <span class="pre">n</span></span><a class="headerlink" href="#cmdoption-qbsp-lmscale" title="Permalink to this definition">#</a></dt>
<dd><p>Change global lmscale (force <a class="reference internal" href="#bmodel-key-_lmscale"><code class="xref std std-bmodel-key docutils literal notranslate"><span class="pre">_lmscale</span></code></a> key on all entities).
Outputs the LMSCALE BSPX lump.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-software">
<span class="sig-name descname"><span class="pre">-software</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-software" title="Permalink to this definition">#</a></dt>
<dd><p>Change settings to allow for (or make adjustments to optimize for the lack of) software support.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nosoftware">
<span class="sig-name descname"><span class="pre">-nosoftware</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nosoftware" title="Permalink to this definition">#</a></dt>
<dd><p>Explicitly drop support for software renderers.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-wadpath">
<span class="sig-name descname"><span class="pre">-wadpath</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;dir&gt;</span></span><a class="headerlink" href="#cmdoption-qbsp-wadpath" title="Permalink to this definition">#</a></dt>
<dd><p>Search this directory for wad files (default is cwd). Multiple
<a class="reference internal" href="#cmdoption-qbsp-wadpath"><code class="xref std std-option docutils literal notranslate"><span class="pre">-wadpath</span></code></a> args may be used. This argument is ignored for wads
specified using an absolute path.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-xwadpath">
<span class="sig-name descname"><span class="pre">-xwadpath</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;dir&gt;</span></span><a class="headerlink" href="#cmdoption-qbsp-xwadpath" title="Permalink to this definition">#</a></dt>
<dd><p>Like <a class="reference internal" href="#cmdoption-qbsp-wadpath"><code class="xref std std-option docutils literal notranslate"><span class="pre">-wadpath</span></code></a>, except textures found using the specified path will
NOT be embedded into the bsp (equivelent to <a class="reference internal" href="#cmdoption-qbsp-notex"><code class="xref std std-option docutils literal notranslate"><span class="pre">-notex</span></code></a>, but for only
textures from specific wads). You should use this for wads like
halflife’s standard wad files, but q1bsps require an engine extension
and players are not nearly as likely to have the same wad version.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-path">
<span class="sig-name descname"><span class="pre">-path</span></span><span class="sig-prename descclassname"> <span class="pre">&quot;/path/to/folder&quot;</span> <span class="pre">&lt;multiple</span> <span class="pre">allowed&gt;</span></span><a class="headerlink" href="#cmdoption-qbsp-path" title="Permalink to this definition">#</a></dt>
<dd><p>Additional paths or archives to add to the search path, mostly for loose files.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-defaultpaths">
<span class="sig-name descname"><span class="pre">-defaultpaths</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-defaultpaths" title="Permalink to this definition">#</a></dt>
<dd><p>Whether the compiler should attempt to automatically derive game/base paths for
games that support it. Enabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-nodefaultpaths">
<span class="sig-name descname"><span class="pre">-nodefaultpaths</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-nodefaultpaths" title="Permalink to this definition">#</a></dt>
<dd><p>Opt out of <a class="reference internal" href="#cmdoption-qbsp-defaultpaths"><code class="xref std std-option docutils literal notranslate"><span class="pre">-defaultpaths</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-oldrottex">
<span class="sig-name descname"><span class="pre">-oldrottex</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-oldrottex" title="Permalink to this definition">#</a></dt>
<dd><p>Use old method of texturing rotate_ brushes where the mapper aligns
textures for the object at (0 0 0).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-midsplitsurffraction">
<span class="sig-name descname"><span class="pre">-midsplitsurffraction</span></span><span class="sig-prename descclassname"> <span class="pre">n</span></span><a class="headerlink" href="#cmdoption-qbsp-midsplitsurffraction" title="Permalink to this definition">#</a></dt>
<dd><p>If 0 (default), use <a class="reference internal" href="#cmdoption-qbsp-maxnodesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">-maxnodesize</span></code></a> for deciding when to switch to midsplit bsp heuristic.</p>
<p>If 0 &lt; midsplitSurfFraction &lt;= 1, switch to midsplit if the node contains more than this
fraction of the model’s total surfaces. Try 0.15 to 0.5. Works better than maxNodeSize for
maps with a 3D skybox (e.g. +-128K unit maps)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-midsplitbrushfraction">
<span class="sig-name descname"><span class="pre">-midsplitbrushfraction</span></span><span class="sig-prename descclassname"> <span class="pre">n</span></span><a class="headerlink" href="#cmdoption-qbsp-midsplitbrushfraction" title="Permalink to this definition">#</a></dt>
<dd><p>Switch to cheaper BSP partitioning test if a node contains this % of brushes in the map.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-maxnodesize">
<span class="sig-name descname"><span class="pre">-maxnodesize</span></span><span class="sig-prename descclassname"> <span class="pre">[n]</span></span><a class="headerlink" href="#cmdoption-qbsp-maxnodesize" title="Permalink to this definition">#</a></dt>
<dd><p>Switch to the cheap spatial subdivion bsp heuristic when splitting
nodes of this size (in any dimension). This gives much faster qbsp
processing times on large maps and should generate better bsp trees
as well. From txqbsp-xt, thanks rebb. (default 1024, 0 to disable)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-wrbrushes">
<span class="sig-name descname"><span class="pre">-wrbrushes</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-wrbrushes" title="Permalink to this definition">#</a></dt>
<dt class="sig sig-object std" id="cmdoption-qbsp-bspx">
<span class="sig-name descname"><span class="pre">-bspx</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-bspx" title="Permalink to this definition">#</a></dt>
<dd><p>Includes a list of brushes for brush-based collision. This
allows for arbitrary collision sizes in engines that support it,
currently only FTEQW.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-wrbrushesonly">
<span class="sig-name descname"><span class="pre">-wrbrushesonly</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-wrbrushesonly" title="Permalink to this definition">#</a></dt>
<dt class="sig sig-object std" id="cmdoption-qbsp-bspxonly">
<span class="sig-name descname"><span class="pre">-bspxonly</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-bspxonly" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#cmdoption-qbsp-wrbrushes"><code class="xref std std-option docutils literal notranslate"><span class="pre">-wrbrushes</span></code></a> combined with <a class="reference internal" href="#cmdoption-qbsp-noclip"><code class="xref std std-option docutils literal notranslate"><span class="pre">-noclip</span></code></a> argument. This is NOT backwards
compatible.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-bmodelcontents">
<span class="sig-name descname"><span class="pre">-bmodelcontents</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-bmodelcontents" title="Permalink to this definition">#</a></dt>
<dd><p>Allow bmodels to have contents other than “solid” in Q1 based games,
e.g. water in a func_door. This is supported in FTEQW; in winquake,
the bmodel will have no collision.</p>
<p>Q2 supports this feature natively and this option has no effect.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-notriggermodels">
<span class="sig-name descname"><span class="pre">-notriggermodels</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-notriggermodels" title="Permalink to this definition">#</a></dt>
<dd><p>For supported game code only: triggers will not write a model out,
and will instead just write out their mins/maxs.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-notex">
<span class="sig-name descname"><span class="pre">-notex</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-notex" title="Permalink to this definition">#</a></dt>
<dd><p>Write only placeholder textures, to depend upon replacements. This
avoids inclusion of third-party copyrighted images inside your maps,
but is not backwards compatible but will work in FTEQW and QSS.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-notjunc">
<span class="sig-name descname"><span class="pre">-notjunc</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-notjunc" title="Permalink to this definition">#</a></dt>
<dd><p>Alias for <a class="reference internal" href="#cmdoption-qbsp-tjunc"><code class="xref std std-option docutils literal notranslate"><span class="pre">-tjunc</span> <span class="pre">none</span></code></a></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-tjunc">
<span class="sig-name descname"><span class="pre">-tjunc</span></span><span class="sig-prename descclassname"> <span class="pre">mwt</span> <span class="pre">|</span> <span class="pre">none</span> <span class="pre">|</span> <span class="pre">retopologize</span> <span class="pre">|</span> <span class="pre">rotate</span></span><a class="headerlink" href="#cmdoption-qbsp-tjunc" title="Permalink to this definition">#</a></dt>
<dd><p>T-junction fix level:</p>
<dl class="simple">
<dt>none</dt><dd><p>Don’t attempt to fix T-junctions. This is only for engines or formats
that prefer micro-cracks over degenerate triangles. If you don’t know
what that means, don’t set this.</p>
</dd>
<dt>rotate</dt><dd><p>Allow faces’ vertices to be rotated to prevent zero-area triangles.</p>
</dd>
<dt>retopologize</dt><dd><p>If a face still has zero-area triangles, allow it to be re-topologized
by splitting it into multiple fans.</p>
</dd>
<dt>mwt</dt><dd><p>Attempt to triangulate faces (along with their T-junction fixes)
using a <a class="reference external" href="https://en.wikipedia.org/wiki/Minimum-weight_triangulation">MWT</a>
first, only falling back to the prior two steps if it fails.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-noextendedsurfflags">
<span class="sig-name descname"><span class="pre">-noextendedsurfflags</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-noextendedsurfflags" title="Permalink to this definition">#</a></dt>
<dd><p>Don’t write .texinfo file, even if it would normally be needed (debug)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-omitdetail">
<span class="sig-name descname"><span class="pre">-omitdetail</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-omitdetail" title="Permalink to this definition">#</a></dt>
<dd><p>Detail brushes are omitted from the compile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-omitdetailwall">
<span class="sig-name descname"><span class="pre">-omitdetailwall</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-omitdetailwall" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#classname-func_detail_wall"><code class="xref std std-classname docutils literal notranslate"><span class="pre">func_detail_wall</span></code></a> brushes are omitted from the compile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-omitdetailillusionary">
<span class="sig-name descname"><span class="pre">-omitdetailillusionary</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-omitdetailillusionary" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#classname-func_detail_illusionary"><code class="xref std std-classname docutils literal notranslate"><span class="pre">func_detail_illusionary</span></code></a> brushes are omitted from the compile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-omitdetailfence">
<span class="sig-name descname"><span class="pre">-omitdetailfence</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-omitdetailfence" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#classname-func_detail_fence"><code class="xref std std-classname docutils literal notranslate"><span class="pre">func_detail_fence</span></code></a> brushes are omitted from the compile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-convert">
<span class="sig-name descname"><span class="pre">-convert</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;fmt&gt;</span></span><a class="headerlink" href="#cmdoption-qbsp-convert" title="Permalink to this definition">#</a></dt>
<dd><p>Convert a .MAP to a different .MAP format. fmt can be:</p>
<dl class="simple">
<dt>quake</dt><dd><p>Q1 vanilla map format.</p>
</dd>
<dt>quake2</dt><dd><p>Q2 vanilla map format.</p>
</dd>
<dt>valve</dt><dd><p>Valve 220 map format.</p>
</dd>
<dt>bp</dt><dd><p>Brush Primitives format.</p>
</dd>
</dl>
<p>Conversions to “quake” or “quake2”
format may not be able to match the texture alignment in the source
map, other conversions are lossless. The converted map is saved to
&lt;source map name&gt;-&lt;fmt&gt;.map.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-includeskip">
<span class="sig-name descname"><span class="pre">-includeskip</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-includeskip" title="Permalink to this definition">#</a></dt>
<dd><p>Emit skip/nodraw faces (default is to discard them). Mainly for Q2RTX.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-threads">
<span class="sig-name descname"><span class="pre">-threads</span></span><span class="sig-prename descclassname"> <span class="pre">n</span></span><a class="headerlink" href="#cmdoption-qbsp-threads" title="Permalink to this definition">#</a></dt>
<dd><p>Set number of threads to use. By default, qbsp will attempt to
use all available hardware threads.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-lowpriority">
<span class="sig-name descname"><span class="pre">-lowpriority</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-lowpriority" title="Permalink to this definition">#</a></dt>
<dd><p>Run in a lower priority, to free up headroom for other processes. Enabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-aliasdef">
<span class="sig-name descname"><span class="pre">-aliasdef</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;aliases.def&gt;</span> <span class="pre">[...]</span></span><a class="headerlink" href="#cmdoption-qbsp-aliasdef" title="Permalink to this definition">#</a></dt>
<dd><p>Adds alias definition files, which can transform entities in the .map into other entities.</p>
<p>For example, given this alias definition file:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">aliases.def</span><a class="headerlink" href="#id1" title="Permalink to this code">#</a></div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>misc_torch1 // source classname
{
&quot;classname&quot; &quot;misc_model&quot; // classname to transform into
&quot;model&quot; &quot;torch1.mdl&quot;
}

misc_torch2
{
&quot;classname&quot; &quot;misc_model&quot;
&quot;model&quot; &quot;torch2.mdl&quot;
}
</pre></div>
</div>
</div>
<p>and an input map file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
&quot;classname&quot; &quot;misc_torch1&quot;
&quot;model&quot; &quot;override.mdl&quot;
}

{
&quot;classname&quot; &quot;misc_torch2&quot;
}
</pre></div>
</div>
<p>the following will be output in the .bsp’s entity lump:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
&quot;classname&quot; &quot;misc_model&quot;
&quot;model&quot; &quot;override.mdl&quot; // key/value from map takes precedence
}

{
&quot;classname&quot; &quot;misc_model&quot;
&quot;model&quot; &quot;torch2.mdl&quot; // key/value from alias file
}
</pre></div>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-texturedefs">
<span class="sig-name descname"><span class="pre">-texturedefs</span></span><span class="sig-prename descclassname"> <span class="pre">&quot;path/to/file.def&quot;</span> <span class="pre">&lt;multiple</span> <span class="pre">allowed&gt;</span></span><a class="headerlink" href="#cmdoption-qbsp-texturedefs" title="Permalink to this definition">#</a></dt>
<dd><p>Path to a texture definition file, which can transform textures in the .map into other textures.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-epsilon">
<span class="sig-name descname"><span class="pre">-epsilon</span></span><span class="sig-prename descclassname"> <span class="pre">n</span></span><a class="headerlink" href="#cmdoption-qbsp-epsilon" title="Permalink to this definition">#</a></dt>
<dd><p>Customize epsilon value for point-on-plane checks.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-microvolume">
<span class="sig-name descname"><span class="pre">-microvolume</span></span><span class="sig-prename descclassname"> <span class="pre">n</span></span><a class="headerlink" href="#cmdoption-qbsp-microvolume" title="Permalink to this definition">#</a></dt>
<dd><p>Microbrush volume.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-outsidedebug">
<span class="sig-name descname"><span class="pre">-outsidedebug</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-outsidedebug" title="Permalink to this definition">#</a></dt>
<dd><p>Write a .map after outside filling showing non-visible brush sides.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-debugchop">
<span class="sig-name descname"><span class="pre">-debugchop</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-debugchop" title="Permalink to this definition">#</a></dt>
<dd><p>Write a .map after ChopBrushes.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-debugleak">
<span class="sig-name descname"><span class="pre">-debugleak</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-debugleak" title="Permalink to this definition">#</a></dt>
<dd><p>Write more diagnostic files for debugging leaks.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-debugbspbrushes">
<span class="sig-name descname"><span class="pre">-debugbspbrushes</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-debugbspbrushes" title="Permalink to this definition">#</a></dt>
<dd><p>Save bsp brushes after BrushBSP to a .map, for visualizing BSP splits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-debugleafvolumes">
<span class="sig-name descname"><span class="pre">-debugleafvolumes</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-debugleafvolumes" title="Permalink to this definition">#</a></dt>
<dd><p>Save bsp leaf volumes after BrushBSP to a .map, for visualizing BSP splits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-debugexpand">
<span class="sig-name descname"><span class="pre">-debugexpand</span></span><span class="sig-prename descclassname"> <span class="pre">[single</span> <span class="pre">hull</span> <span class="pre">index]</span> <span class="pre">or</span> <span class="pre">[mins_x</span> <span class="pre">mins_y</span> <span class="pre">mins_z</span> <span class="pre">maxs_x</span> <span class="pre">maxs_y</span> <span class="pre">maxs_z]</span></span><a class="headerlink" href="#cmdoption-qbsp-debugexpand" title="Permalink to this definition">#</a></dt>
<dd><p>Write expanded hull .map for debugging/inspecting hulls/brush bevelling.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-keepprt">
<span class="sig-name descname"><span class="pre">-keepprt</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-keepprt" title="Permalink to this definition">#</a></dt>
<dd><p>Avoid deleting the .prt file on leaking maps.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-maxedges">
<span class="sig-name descname"><span class="pre">-maxedges</span></span><span class="sig-prename descclassname"> <span class="pre">n</span></span><a class="headerlink" href="#cmdoption-qbsp-maxedges" title="Permalink to this definition">#</a></dt>
<dd><p>The max number of edges/vertices on a single face before it is split into another face.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-worldextent">
<span class="sig-name descname"><span class="pre">-worldextent</span></span><span class="sig-prename descclassname"> <span class="pre">n</span></span><a class="headerlink" href="#cmdoption-qbsp-worldextent" title="Permalink to this definition">#</a></dt>
<dd><p>Explicitly provide world extents; 0 will auto-detect. Default 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-forceprt1">
<span class="sig-name descname"><span class="pre">-forceprt1</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-forceprt1" title="Permalink to this definition">#</a></dt>
<dd><p>Force a PRT1 output file even if PRT2 is required for vis.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-objexport">
<span class="sig-name descname"><span class="pre">-objexport</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-qbsp-objexport" title="Permalink to this definition">#</a></dt>
<dd><p>Export the map file as .OBJ models during various compilation phases.</p>
</dd></dl>

</section>
<section id="game-path-specification">
<h2>Game Path Specification<a class="headerlink" href="#game-path-specification" title="Permalink to this heading">#</a></h2>
<p>To compile a Q2 map, the compilers usually need to be able to locate an installation of the game. e.g. the .map might reference a texture name like <code class="docutils literal notranslate"><span class="pre">e1u1/clip</span></code>, but qbsp needs to open the corresponding .wal file to look up the content/surface flags (playerclip, etc.) which are then written to the .bsp.</p>
<p>We use the terminology:</p>
<dl class="simple">
<dt>basedir</dt><dd><p>The directory containing the base game (e.g. <code class="docutils literal notranslate"><span class="pre">id1</span></code> or <code class="docutils literal notranslate"><span class="pre">baseq2</span></code>). Can be an absolute path, e.g. <code class="docutils literal notranslate"><span class="pre">c:/quake2/baseq2</span></code> or <code class="docutils literal notranslate"><span class="pre">c:/quake/id1</span></code>.</p>
</dd>
<dt>gamedir</dt><dd><p>Optional mod directory, e.g. <code class="docutils literal notranslate"><span class="pre">ad</span></code> or <code class="docutils literal notranslate"><span class="pre">c:/quake/ad</span></code>. If a gamedir is specified it will be added to the search path at a higher priority than the basedir.</p>
</dd>
</dl>
<p>The common cases are:</p>
<ul>
<li><p>place your .map in <code class="docutils literal notranslate"><span class="pre">&lt;quake2&gt;/baseq2/maps</span></code> and compile it there, qbsp will auto detect the basedir/gamedir.</p></li>
<li><p>for compiling a .map located elsewhere, use e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qbsp</span> <span class="o">-</span><span class="n">basedir</span> <span class="s2">&quot;c:/quake2/baseq2&quot;</span> <span class="nb">input</span><span class="o">.</span><span class="n">map</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qbsp</span> <span class="o">-</span><span class="n">basedir</span> <span class="s2">&quot;c:/quake2/baseq2&quot;</span> <span class="o">-</span><span class="n">gamedir</span> <span class="n">mymod</span> <span class="nb">input</span><span class="o">.</span><span class="n">map</span>
</pre></div>
</div>
</li>
</ul>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-gamedir">
<span class="sig-name descname"><span class="pre">-gamedir</span></span><span class="sig-prename descclassname"> <span class="pre">&quot;relative/path&quot;</span> <span class="pre">or</span> <span class="pre">&quot;C:/absolute/path&quot;</span></span><a class="headerlink" href="#cmdoption-qbsp-gamedir" title="Permalink to this definition">#</a></dt>
<dd><p>Override the default mod base directory. if this is not set, or if it is relative, it will be derived from
the input file or the basedir if specified.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-basedir">
<span class="sig-name descname"><span class="pre">-basedir</span></span><span class="sig-prename descclassname"> <span class="pre">&quot;relative/path&quot;</span> <span class="pre">or</span> <span class="pre">&quot;C:/absolute/path&quot;</span></span><a class="headerlink" href="#cmdoption-qbsp-basedir" title="Permalink to this definition">#</a></dt>
<dd><p>Override the default game base directory. if this is not set, or if it is relative, it will be derived
from the input file or the gamedir if specified.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-qbsp-filepriority">
<span class="sig-name descname"><span class="pre">-filepriority</span></span><span class="sig-prename descclassname"> <span class="pre">archive</span> <span class="pre">|</span> <span class="pre">loose</span></span><a class="headerlink" href="#cmdoption-qbsp-filepriority" title="Permalink to this definition">#</a></dt>
<dd><p>Which types of archives (folders/loose files or packed archives) are higher priority and chosen first
for path searching.</p>
</dd></dl>

</section>
<section id="special-texture-names">
<h2>Special Texture Names<a class="headerlink" href="#special-texture-names" title="Permalink to this heading">#</a></h2>
<p>The contents inside a brush depend on the texture name(s) assigned to
it.</p>
<p>By default brush contents are solid unless they have a special name.
All faces of a brush must have textures which indicate the same
contents. Mixed content types will cause qbsp to print an error and
exit.</p>
<dl class="std texture">
<dt class="sig sig-object std" id="texture-slime">
<span class="sig-name descname"><span class="pre">*slime</span></span><a class="headerlink" href="#texture-slime" title="Permalink to this definition">#</a></dt>
<dt class="sig sig-object std" id="texture-lava">
<span class="sig-name descname"><span class="pre">*lava</span></span><a class="headerlink" href="#texture-lava" title="Permalink to this definition">#</a></dt>
<dt class="sig sig-object std" id="texture-0">
<span class="sig-name descname"><span class="pre">*</span></span><a class="headerlink" href="#texture-0" title="Permalink to this definition">#</a></dt>
<dd><p>Names beginning with an asterisk are liquids. A prefix of <code class="docutils literal notranslate"><span class="pre">*slime</span></code>
indicates slime, <code class="docutils literal notranslate"><span class="pre">*lava</span></code> is for lava and anything else beginning with
<code class="docutils literal notranslate"><span class="pre">*</span></code> will have contents as water.</p>
</dd></dl>

<dl class="std texture">
<dt class="sig sig-object std" id="texture-skip">
<span class="sig-name descname"><span class="pre">skip</span></span><a class="headerlink" href="#texture-skip" title="Permalink to this definition">#</a></dt>
<dd><p>Any surfaces assigned a texture name of <em>skip</em> will be compiled into the
bsp as invisible surfaces. Solid surfaces will still be solid (e.g. the
play can’t walk or shoot through them) but they will not be drawn.
Water, slime and lava surfaces can be made invisible using the texture
names <em>*waterskip</em>, <em>*slimeskip</em> and <em>*lavaskip</em> respectively.</p>
</dd></dl>

<dl class="std texture">
<dt class="sig sig-object std" id="texture-hint">
<span class="sig-name descname"><span class="pre">hint</span></span><a class="headerlink" href="#texture-hint" title="Permalink to this definition">#</a></dt>
<dd><p>Hint surfaces cause a bsp split and portal to be generated the on the
surface plane, after which they are removed from the final bsp - they
are neither visible, nor structural. Strategic placement of hint
surfaces can be used by a map author to optimise the PVS calculations so
as to limit overdraw by the engine (see also: <strong>vis</strong>(1)).</p>
<p>Use a texture with the name <em>hintskip</em> on any surfaces of a hint brush
which you don’t want to generate bsp splits or portals. All surfaces of
a hint brush must use either the <em>hint</em> or <em>hintskip</em> texture name.</p>
</dd></dl>

<dl class="std texture">
<dt class="sig sig-object std" id="texture-origin">
<span class="sig-name descname"><span class="pre">origin</span></span><a class="headerlink" href="#texture-origin" title="Permalink to this definition">#</a></dt>
<dd><p>An origin brush (all faces textured with “origin”) can be added to a
brush entity (but not detail or compiler-internal entities like
func_group). Doing so causes all of the brushes in the brush entitiy to
be translated so the center of the origin brush lines up with 0 0 0. The
entity key “origin” is then automatically set on the brush entity to the
original cooridnates of the center of the “origin” brush before it was
translated to 0 0 0.</p>
<p>In Hexen 2, origin brushes are the native way of marking the center
point of the rotation axis for rotating entities.</p>
<p>In Quake, origin brushes can be used to make some map hacks easier to
set up that would otherwise require placing brushes at the world origin
and entering an “origin” value by hand.</p>
<p>Note that, unlike the Hipnotic rotation support in QBSP, using origin
brushes does not cause the model bounds to be expanded. (With Hipnotic
rotation this was to ensure that the model is not vis culled, regardless
of its rotated angle.) Origin brushes are useful for more than just
rotation, and doing this bounds expansion would break some use cases, so
if you’re going to rotate a model with an origin brush you might need to
expand the bounds of it a bit using clip brushes so it doesn’t get vis
culled.</p>
</dd></dl>

</section>
<section id="external-map-prefab-support">
<h2>External Map Prefab Support<a class="headerlink" href="#external-map-prefab-support" title="Permalink to this heading">#</a></h2>
<p>This qbsp has a prefab system using a point entity named
“misc_external_map”. The idea is, each “misc_external_map” imports
brushes from an external .map file, applies rotations specified by the
“_external_map_angles” key, then translates them to the “origin” key of
the “misc_external_map” entity. Finally, the classname of the
“misc_external_map” is switched to the one provided by the mapper in the
“_external_map_classname” key. (The “origin” key is also cleared to “0 0
0” before saving the .bsp).</p>
<p>The external .map file should consist of worldspawn brushes only,
although you can use func_group for editing convenience. Brush entities
are merged with the worldspawn brushes during import. All worldspawn
keys, and any point entities are ignored. Currently, this means that the
“wad” key is not handled, so you need to add any texture wads required
by the external .map file to your main map.</p>
<p>Note that you can set other entity keys on the “misc_external_map” to
configure the final entity type. e.g. if you set
“_external_map_classname” to “func_door”, you can also set a
“targetname” key on the “misc_external_map”, or any other keys for
“func_door”.</p>
<dl class="std other-key">
<dt class="sig sig-object std" id="other-key-_external_map">
<span class="sig-name descname"><span class="pre">_external_map</span></span><a class="headerlink" href="#other-key-_external_map" title="Permalink to this definition">#</a></dt>
<dd><p>Specifies the filename of the .map to import.</p>
</dd></dl>

<dl class="std other-key">
<dt class="sig sig-object std" id="other-key-_external_map_classname">
<span class="sig-name descname"><span class="pre">_external_map_classname</span></span><a class="headerlink" href="#other-key-_external_map_classname" title="Permalink to this definition">#</a></dt>
<dd><p>What entity you want the external map to turn in to. You can use
internal qbsp entity types such as <code class="xref std std-classname docutils literal notranslate"><span class="pre">func_detail</span></code>, or a regular bmodel
classname like “func_wall” or “func_door”.</p>
</dd></dl>

<dl class="std other-key">
<dt class="sig sig-object std" id="other-key-_external_map_angles">
<span class="sig-name descname"><span class="pre">_external_map_angles</span></span><a class="headerlink" href="#other-key-_external_map_angles" title="Permalink to this definition">#</a></dt>
<dd><p>Rotation for the prefab, “pitch yaw roll” format. Assuming the
exernal map is facing the +X axis, positive pitch is down. Yaw of
180, for example, would rotate it to face -X.</p>
</dd></dl>

<dl class="std other-key">
<dt class="sig sig-object std" id="other-key-_external_map_angle">
<span class="sig-name descname"><span class="pre">_external_map_angle</span></span><a class="headerlink" href="#other-key-_external_map_angle" title="Permalink to this definition">#</a></dt>
<dd><p>Short version of <a class="reference internal" href="#other-key-_external_map_angles"><code class="xref std std-other-key docutils literal notranslate"><span class="pre">_external_map_angles</span></code></a> for when you want to specify
just a yaw rotation.</p>
</dd></dl>

<dl class="std other-key">
<dt class="sig sig-object std" id="other-key-_external_map_scale">
<span class="sig-name descname"><span class="pre">_external_map_scale</span></span><a class="headerlink" href="#other-key-_external_map_scale" title="Permalink to this definition">#</a></dt>
<dd><p>Scale factor for the prefab, defaults to 1. Either specify a single
value or three scales, “x y z”.</p>
</dd></dl>

</section>
<section id="detail-brush-support">
<h2>Detail Brush Support<a class="headerlink" href="#detail-brush-support" title="Permalink to this heading">#</a></h2>
<p>This version of qbsp supports detail brushes which are similar in
concept to Quake 2’s detail brushes. They don’t seal the map (previous
versions did).</p>
<p>To be compatible with existing Quake 1 mapping tools, detail brushes can
be added by creating an entity with classname “func_detail”. When qbsp
reads the map file, it will add any brushes included in a func_detail
entity into the worldspawn as details and remove the func_detail entity.
Any number of func_detail entities can be used (useful for grouping) and
all included brushes will be added to the worldspawn.</p>
<p>Here is an example entity definition suitable to add the the .QC files
used by BSP Editor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/*QUAKED func_detail (0.5 0.5 0.9) ?
Detail brushes add visual details to
the world, but do not block visibility.
func_detail entities are merged into
the worldspawn entity by the qbsp compiler
and do not appear as separate entities in
the compiled bsp.
*/
</pre></div>
</div>
<p>For WorldCraft in .FGD format (untested):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@SolidClass</span> <span class="n">color</span><span class="p">(</span><span class="mi">128</span> <span class="mi">128</span> <span class="mi">230</span><span class="p">)</span> <span class="o">=</span> <span class="n">func_detail</span><span class="p">:</span> <span class="s2">&quot;Detail&quot;</span> <span class="p">[]</span>
</pre></div>
</div>
<p>For Radiant in .ENT format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">group</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;func_detail&quot;</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;0 .5 .8&quot;</span><span class="o">&gt;</span>
<span class="n">Detail</span> <span class="n">brushes</span> <span class="n">add</span> <span class="n">visual</span> <span class="n">details</span> <span class="n">to</span> <span class="n">the</span> <span class="n">world</span><span class="p">,</span> <span class="n">but</span> <span class="n">do</span> <span class="ow">not</span>
<span class="n">block</span> <span class="n">visibility</span><span class="o">.</span> <span class="n">func_detail</span> <span class="n">entities</span> <span class="n">are</span> <span class="n">merged</span> <span class="n">into</span> <span class="n">the</span>
<span class="n">worldspawn</span> <span class="n">entity</span> <span class="n">by</span> <span class="n">the</span> <span class="n">qbsp</span> <span class="n">compiler</span> <span class="ow">and</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">appear</span> <span class="k">as</span>
<span class="n">separate</span> <span class="n">entities</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">compiled</span> <span class="n">bsp</span><span class="o">.</span>
<span class="o">&lt;/</span><span class="n">group</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>What should be written to the .map file is a simple entity with one or
more brushes. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;classname&quot;</span> <span class="s2">&quot;func_detail&quot;</span>
<span class="p">{</span>
<span class="p">(</span> <span class="o">-</span><span class="mi">176</span>  <span class="mi">80</span>  <span class="mi">0</span> <span class="p">)</span> <span class="p">(</span> <span class="o">-</span><span class="mi">208</span>  <span class="mi">80</span>  <span class="mi">0</span> <span class="p">)</span> <span class="p">(</span> <span class="o">-</span><span class="mi">208</span>  <span class="mi">48</span>  <span class="mi">0</span> <span class="p">)</span> <span class="n">COP1_1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="p">(</span> <span class="o">-</span><span class="mi">192</span> <span class="o">-</span><span class="mi">80</span> <span class="mi">64</span> <span class="p">)</span> <span class="p">(</span> <span class="o">-</span><span class="mi">208</span> <span class="o">-</span><span class="mi">80</span>  <span class="mi">0</span> <span class="p">)</span> <span class="p">(</span> <span class="o">-</span><span class="mi">192</span> <span class="o">-</span><span class="mi">64</span> <span class="mi">64</span> <span class="p">)</span> <span class="n">COP1_1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="p">(</span> <span class="o">-</span><span class="mi">176</span> <span class="o">-</span><span class="mi">80</span>  <span class="mi">0</span> <span class="p">)</span> <span class="p">(</span> <span class="o">-</span><span class="mi">192</span> <span class="o">-</span><span class="mi">80</span> <span class="mi">64</span> <span class="p">)</span> <span class="p">(</span> <span class="o">-</span><span class="mi">176</span> <span class="o">-</span><span class="mi">64</span>  <span class="mi">0</span> <span class="p">)</span> <span class="n">COP1_1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="p">(</span> <span class="o">-</span><span class="mi">16</span>   <span class="mi">48</span>  <span class="mi">0</span> <span class="p">)</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">16</span>  <span class="mi">64</span> <span class="mi">64</span> <span class="p">)</span> <span class="p">(</span>    <span class="mi">0</span>  <span class="mi">48</span>  <span class="mi">0</span> <span class="p">)</span> <span class="n">COP1_1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="p">(</span> <span class="o">-</span><span class="mi">16</span>   <span class="mi">64</span> <span class="mi">64</span> <span class="p">)</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">16</span>  <span class="mi">80</span>  <span class="mi">0</span> <span class="p">)</span> <span class="p">(</span>    <span class="mi">0</span>  <span class="mi">64</span> <span class="mi">64</span> <span class="p">)</span> <span class="n">COP1_1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When qbsp detects detail brushes, it outputs a modified portal file
format with the header PRT2 (default is PRT1). This portal file contains
extra information needed by vis to compute the potentially visible set
(PVS) for the map/bsp. So you will also need a vis util capable of
processing the PRT2 file format.</p>
</section>
<section id="detail-variants">
<h2>Detail Variants<a class="headerlink" href="#detail-variants" title="Permalink to this heading">#</a></h2>
<dl class="std classname">
<dt class="sig sig-object std" id="classname-func_detail_illusionary">
<span class="sig-name descname"><span class="pre">func_detail_illusionary</span></span><a class="headerlink" href="#classname-func_detail_illusionary" title="Permalink to this definition">#</a></dt>
<dd><p>func_detail variant with no collision (players / monsters / gunfire) and
doesn’t split world faces. Doesn’t cast shadows unless enabled with
<a class="reference internal" href="light.html#bmodel-key-_shadow"><code class="xref std std-bmodel-key docutils literal notranslate"><span class="pre">_shadow</span></code></a> “1”. Useful for hanging vines. Still creates BSP leafs, which
is unavoidable without a new .bsp file format.</p>
<p>Intersecting func_detail_illusionary brushes don’t clip each other; this
is intended to make trees/shrubs/foliage easier with <a class="reference internal" href="#bmodel-key-_mirrorinside"><code class="xref std std-bmodel-key docutils literal notranslate"><span class="pre">_mirrorinside</span></code></a> “1”.</p>
</dd></dl>

<dl class="std classname">
<dt class="sig sig-object std" id="classname-func_detail_wall">
<span class="sig-name descname"><span class="pre">func_detail_wall</span></span><a class="headerlink" href="#classname-func_detail_wall" title="Permalink to this definition">#</a></dt>
<dd><p>func_detail variant that doesn’t split world faces. Useful for when you
want a decoration touching a floor or wall to not split the floor/wall
faces (you’ll get some overdraw instead.) If it completely covers up a
world face, that face will get clipped away, so it’s not suitable for
fence textures; see func_detail_fence instead.</p>
<p>Intersecting func_detail_wall brushes don’t clip each other.</p>
</dd></dl>

<dl class="std classname">
<dt class="sig sig-object std" id="classname-func_detail_fence">
<span class="sig-name descname"><span class="pre">func_detail_fence</span></span><a class="headerlink" href="#classname-func_detail_fence" title="Permalink to this definition">#</a></dt>
<dd><p>Similar to <a class="reference internal" href="#classname-func_detail_wall"><code class="xref std std-classname docutils literal notranslate"><span class="pre">func_detail_wall</span></code></a> except it’s suitable for fence textures,
never clips away world faces. Useful for fences, grates, etc., that are
solid and block gunfire.</p>
<p>Intersecting func_detail_fence brushes don’t clip each other.</p>
</dd></dl>

</section>
<section id="model-entity-keys">
<h2>Model Entity Keys<a class="headerlink" href="#model-entity-keys" title="Permalink to this heading">#</a></h2>
<dl class="std bmodel-key">
<dt class="sig sig-object std" id="bmodel-key-_lmscale">
<span class="sig-name descname"><span class="pre">&quot;_lmscale&quot;</span></span><span class="s"> </span><span class="s"><span class="pre">&quot;n&quot;</span></span><a class="headerlink" href="#bmodel-key-_lmscale" title="Permalink to this definition">#</a></dt>
<dd><p>Generates an LMSHIFT bspx lump for use by a light util. Note that
both scaled and unscaled lighting will normally be used.</p>
</dd></dl>

<dl class="std bmodel-key">
<dt class="sig sig-object std" id="bmodel-key-_mirrorinside">
<span class="sig-name descname"><span class="pre">&quot;_mirrorinside&quot;</span></span><span class="s"> </span><span class="s"><span class="pre">&quot;n&quot;</span></span><a class="headerlink" href="#bmodel-key-_mirrorinside" title="Permalink to this definition">#</a></dt>
<dd><p>Set to 1 to save mirrored inside faces for bmodels, so when the
player view is inside the bmodel, they will still see the faces.
(e.g. for func_water, or func_illusionary)</p>
</dd></dl>

</section>
<section id="other-special-purpose-entities">
<h2>Other Special-Purpose Entities<a class="headerlink" href="#other-special-purpose-entities" title="Permalink to this heading">#</a></h2>
<dl class="std classname">
<dt class="sig sig-object std" id="classname-func_illusionary_visblocker">
<span class="sig-name descname"><span class="pre">func_illusionary_visblocker</span></span><a class="headerlink" href="#classname-func_illusionary_visblocker" title="Permalink to this definition">#</a></dt>
<dd><p>For creating vis-blocking illusionary brushes (similar to
<a class="reference internal" href="#classname-func_detail_illusionary"><code class="xref std std-classname docutils literal notranslate"><span class="pre">func_detail_illusionary</span></code></a> or “func_illusionary”. The player can walk
through them.) This gives the same effect as water brushes when the
<a class="reference internal" href="#cmdoption-qbsp-notranswater"><code class="xref std std-option docutils literal notranslate"><span class="pre">-notranswater</span></code></a> flag is used, except the interior of these brushes are
saved as CONTENTS_EMPTY. One thing to be aware of is, if the player’s
view is very close to the faces of these brushes, they might be able to
see into the void (depending on the engine). Fitzquake family engines
have a workaround for this that is enabled if the brushes are textured
with a water texture (“*” prefix).</p>
</dd></dl>

</section>
<section id="map-compatibility">
<h2>Map Compatibility<a class="headerlink" href="#map-compatibility" title="Permalink to this heading">#</a></h2>
<p>In addition to standard Quake 1 .map files, ericw-tools QBSP is
compatible with:</p>
<ul class="simple">
<li><p>Floating point brush coordinates and texture alignments</p></li>
<li><p>Valve’s 220 map format as produced by the <em>Hammer</em> editor</p></li>
<li><p>Extended texture positioning as supported by the <em>QuArK</em> editor</p></li>
<li><p>Standard Quake 2 map format (leading paths in texture names are
stripped and any extra surface properties are ignored)</p></li>
<li><p>Brush Primitives produce by Radiant editors (normally a Quake 3
format)</p></li>
</ul>
</section>
<section id="author">
<h2>Author<a class="headerlink" href="#author" title="Permalink to this heading">#</a></h2>
<div class="line-block">
<div class="line">Eric Wasylishen</div>
<div class="line">Kevin Shanahan (aka Tyrann) - <a class="reference external" href="http://disenchant.net">http://disenchant.net</a></div>
<div class="line">Based on source provided by id Software and Greg Lewis</div>
</div>
</section>
<section id="reporting-bugs">
<h2>Reporting Bugs<a class="headerlink" href="#reporting-bugs" title="Permalink to this heading">#</a></h2>
<div class="line-block">
<div class="line">Please post bug reports at
<a class="reference external" href="https://github.com/ericwa/ericw-tools/issues">https://github.com/ericwa/ericw-tools/issues</a>.</div>
<div class="line">Improvements to the documentation are welcome and encouraged.</div>
</div>
</section>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Permalink to this heading">#</a></h2>
<div class="line-block">
<div class="line">Copyright (C) 2017 Eric Wasylishen</div>
<div class="line">Copyright (C) 2013 Kevin Shanahan</div>
<div class="line">Copyright (C) 1997 Greg Lewis</div>
<div class="line">Copyright (C) 1997 id Software</div>
<div class="line">License GPLv2+: GNU GPL version 2 or later</div>
<div class="line">&lt;<a class="reference external" href="http://gnu.org/licenses/gpl2.html">http://gnu.org/licenses/gpl2.html</a>&gt;.</div>
</div>
<p>This is free software: you are free to change and redistribute it. There
is NO WARRANTY, to the extent permitted by law.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="vis.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">vis</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">qbsp</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#game-path-specification">Game Path Specification</a></li>
<li><a class="reference internal" href="#special-texture-names">Special Texture Names</a></li>
<li><a class="reference internal" href="#external-map-prefab-support">External Map Prefab Support</a></li>
<li><a class="reference internal" href="#detail-brush-support">Detail Brush Support</a></li>
<li><a class="reference internal" href="#detail-variants">Detail Variants</a></li>
<li><a class="reference internal" href="#model-entity-keys">Model Entity Keys</a></li>
<li><a class="reference internal" href="#other-special-purpose-entities">Other Special-Purpose Entities</a></li>
<li><a class="reference internal" href="#map-compatibility">Map Compatibility</a></li>
<li><a class="reference internal" href="#author">Author</a></li>
<li><a class="reference internal" href="#reporting-bugs">Reporting Bugs</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>